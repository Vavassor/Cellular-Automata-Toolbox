(self.webpackChunkcellular_automata=self.webpackChunkcellular_automata||[]).push([[143],{427:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".main-canvas {\n  image-rendering: -webkit-optimize-contrast;\n  image-rendering: crisp-edges;\n  max-width: 600px;\n  width: 100%;\n}\n\n.main-footer {\n  padding: 32px 0 16px 0;\n}\n",""]);const a=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},56:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(379),o=n.n(r),a=n(427);o()(a.Z,{insert:"head",singleton:!1});const i=a.Z.locals||{}},379:(e,t,n)=>{"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],o=0;o<e.length;o++){var l=e[o],s=t.base?l[0]+t.base:l[0],d=n[s]||0,c="".concat(s," ").concat(d);n[s]=d+1;var u=i(c),m={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(a[u].references++,a[u].updater(m)):a.push({identifier:c,updater:p(m,t),references:1}),r.push(c)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var d,c=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function m(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,f=0;function p(e,t){var n,r,o;if(t.singleton){var a=f++;n=h||(h=s(t)),r=u.bind(null,n,a,!1),o=u.bind(null,n,a,!0)}else n=s(t),r=m.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=i(n[r]);a[o].references--}for(var s=l(e,t),d=0;d<n.length;d++){var c=i(n[d]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=s}}}},792:(e,t,n)=>{"use strict";const r=n(58),o=n(393),a=n(121),i=n(680),l=n(932),s=n(399),d=n(688),c=n(127);n(56);const u=n(948);var m;!function(e){e.Cyclic="Cyclic",e.Generation="Generation",e.Lifelike="Lifelike"}(m||(m={}));const h=e=>{switch(e.type){case"Cyclic":case"Generation":return e.rule.stateCount;case"Lifelike":return 2}},f=e=>{switch(e.type){case"Cyclic":return d.FillType.UniformRandom;case"Generation":case"Lifelike":return d.FillType.UniformRandomBinary}},p=(e,t)=>d.createGrid({dimension:{height:e.canvas.height,width:e.canvas.width},fillType:f(t),stateCount:h(t)}),g=(e,t)=>i.createSelectFieldController({id:t}),v=e=>{const t=(e=>{switch(e){case m.Cyclic:return l.namedRules;case m.Generation:return s.namedRules;case m.Lifelike:return c.namedRules}})(e);return Object.entries(t).map((([e,t])=>({label:t.name,value:e})))},y=(e,t)=>a.createRadioButtonController({handleChange:t=>{const n=t.target.value;((e,t)=>{e.family=t;const n="presets",{select:o}=r.createSelectFieldComponent({ariaLabelledBy:"presets-label",id:n,name:"preset",options:v(t)});document.getElementById(n).replaceWith(o),e.formControllers.presetField=g(0,n)})(e,n)},id:t});(()=>{const e=document.getElementById("canvas"),t=e.getContext("2d"),n={canvas:e,pixelImageData:t.createImageData(e.width,e.height),renderingContext:t},r=m.Generation,a={rule:s.namedRules.faders,type:r},i={family:r,formControllers:{},grid:p(n,a),rule:a,videoContext:n};let d;const h=e=>{const t=e-d;t>100&&(d=e-t%100,((e,t)=>{switch(t.type){case"Cyclic":l.updateCyclicCa(e,t.rule);break;case"Generation":s.updateGenerationCa(e,t.rule);break;case"Lifelike":c.updateLifelikeCa(e,t.rule)}})(i.grid,i.rule),u.clearCanvas(n),u.drawGrid(n,i.grid),u.updateCanvas(n)),window.requestAnimationFrame(h)};d=window.performance.now(),window.requestAnimationFrame(h),i.formControllers.presetForm=((e,t)=>o.createFormController({handleSubmit:t=>{t.preventDefault();const n=t.target.elements.namedItem("preset").value,r=((e,t)=>{switch(e){case m.Cyclic:return{rule:l.namedRules[t],type:e};case m.Generation:return{rule:s.namedRules[t],type:e};case m.Lifelike:return{rule:c.namedRules[t],type:e}}})(e.family,n);((e,t)=>{e.grid=p(e.videoContext,t),e.rule=t})(e,r)},id:t}))(i,"preset-form"),i.formControllers.presetField=g(0,"presets"),i.formControllers.cyclicFamilyRadioButton=y(i,"family-cyclic"),i.formControllers.generationFamilyRadioButton=y(i,"family-generation"),i.formControllers.lifelikeFamilyRadioButton=y(i,"family-lifelike")})()},887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lerpColor=t.getTwoStopGradient=t.unpackUByte4=void 0;const r=n(218);t.unpackUByte4=e=>({r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,a:(255&e)/255}),t.getTwoStopGradient=(e,n,r)=>{let o=[];for(let a=0;a<r;a++)o[a]=t.lerpColor(e,n,a/(r-1));return o},t.lerpColor=(e,t,n)=>({r:r.lerp(e.r,t.r,n),g:r.lerp(e.g,t.g,n),b:r.lerp(e.b,t.b,n),a:r.lerp(e.a,t.a,n)})},58:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSelectFieldComponent=void 0;const n={option:"option",select:"select"},r=(e,t)=>{const{label:n,value:r}=e,o=document.createElement("option");return o.classList.add(t),o.textContent=n,o.value=r,o};t.createSelectFieldComponent=e=>{const{ariaLabelledBy:t,id:o,name:a}=e,i=e.classSpec||n,l=document.createElement("select");l.classList.add(i.select),l.dataset.target="select",l.id=o,l.setAttribute("aria-labelledby",t),a&&(l.name=a);for(const t of e.options){const e=r(t,i.option);l.appendChild(e)}return{select:l}}},384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTargets=void 0,t.getTargets=function(e,t){const n=document.getElementById(e);return Object.fromEntries(t.map((e=>[e,((e,t)=>((e,t)=>e.dataset.target===t?e:void 0)(e,t)||e.querySelector(`[data-target="${t}"]`))(n,e)])))}},393:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFormController=void 0;const r=n(384);t.createFormController=e=>{const{handleSubmit:t,id:n}=e,o={handleSubmit:t,targets:r.getTargets(n,["form"])},{form:a}=o.targets;return t&&a.addEventListener("submit",t),o}},121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRadioButtonController=void 0;const r=n(384),o={radioButton:"radio-button"};t.createRadioButtonController=e=>{const{handleChange:t,id:n}=e,a={classSpec:e.classSpec||o,handleChange:t,targets:r.getTargets(n,["radioButton"])},{radioButton:i}=a.targets;return t&&i.addEventListener("change",t),a}},680:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSelectFieldController=void 0;const r=n(384),o={select:"select"};t.createSelectFieldController=e=>{const{handleChange:t,id:n}=e,a={classSpec:e.classSpec||o,handleChange:t,targets:r.getTargets(n,["select"])},{select:i}=a.targets;return t&&i.addEventListener("change",t),a}},932:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCyclicCa=t.namedRules=void 0;const r=n(688);var o;!function(e){e[e.Moore=0]="Moore",e[e.VonNeumann=1]="VonNeumann"}(o||(o={})),t.namedRules={threeOneThree:{advanceThreshold:3,boundaryRule:r.BoundaryRule.Toroidal,name:"313",neighborhood:o.Moore,neighborhoodRange:1,stateCount:3},basic:{advanceThreshold:1,boundaryRule:r.BoundaryRule.Toroidal,name:"CCA",neighborhood:o.VonNeumann,neighborhoodRange:1,stateCount:14},imperfect:{advanceThreshold:2,boundaryRule:r.BoundaryRule.Toroidal,name:"Imperfect",neighborhood:o.Moore,neighborhoodRange:1,stateCount:4},squarishSpirals:{advanceThreshold:2,boundaryRule:r.BoundaryRule.Toroidal,name:"Squarish Spirals",neighborhood:o.VonNeumann,neighborhoodRange:2,stateCount:6}};const a=(e,t,n,r,o)=>{let a=0;for(let i=-t.neighborhoodRange;i<=t.neighborhoodRange;i++)for(let l=-t.neighborhoodRange;l<=t.neighborhoodRange;l++)0===l&&0===i||(a+=n(e,o.x+l,o.y+i)===r?1:0);return a},i=(e,t,n,r,o)=>{let a=0;const i=(t,i)=>{const l=o.x+t,s=o.y+i,d=n(e,l,s);a+=d===r?1:0};for(let e=0;e<t.neighborhoodRange;e++){const n=-t.neighborhoodRange+e;for(let t=-e;t<=e;t++)i(t,n)}for(let e=-t.neighborhoodRange;e<0;e++)i(e,0);for(let e=1;e<=t.neighborhoodRange;e++)i(e,0);for(let e=t.neighborhoodRange-1;e>=0;e--){const n=t.neighborhoodRange-e;for(let t=-e;t<=e;t++)i(t,n)}return a};t.updateCyclicCa=(e,t)=>{const n=[],l=r.getGridSampleFunction(t.boundaryRule),s=(e=>{switch(e){case o.Moore:return a;case o.VonNeumann:return i}})(t.neighborhood),{height:d,width:c}=e.dimension;for(let r=0;r<d;r++)for(let o=0;o<c;o++){const a=c*r+o,i=e.cells[a],d=(i+1)%t.stateCount,u=s(e,t,l,d,{x:o,y:r});n[a]=u>=t.advanceThreshold?d:i}e.cells=n}},399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateGenerationCa=t.namedRules=void 0;const r=n(688);t.namedRules={belZhab:{birthPattern:[2,3],boundaryRule:r.BoundaryRule.Toroidal,name:"Bel Zhab",stateCount:8,survivalPattern:[2,3]},bombers:{birthPattern:[2,4],boundaryRule:r.BoundaryRule.Toroidal,name:"Bombers",stateCount:25,survivalPattern:[3,4,5]},faders:{birthPattern:[2],boundaryRule:r.BoundaryRule.Toroidal,name:"Faders",stateCount:25,survivalPattern:[2]}};const o=(e,t)=>t.find((t=>t===e));t.updateGenerationCa=(e,t)=>{const n=[],a=r.getGridSampleFunction(t.boundaryRule),i=(e,t,n)=>1===a(e,t,n)?1:0,{height:l,width:s}=e.dimension;for(let r=0;r<l;r++)for(let a=0;a<s;a++){const l=s*r+a,d=e.cells[l];let c=0;c+=i(e,a-1,r-1),c+=i(e,a,r-1),c+=i(e,a+1,r-1),c+=i(e,a-1,r),c+=i(e,a+1,r),c+=i(e,a-1,r+1),c+=i(e,a,r+1),c+=i(e,a+1,r+1),n[l]=0===d?o(c,t.birthPattern)?1:0:1===d?o(c,t.survivalPattern)?1:2:(d+1)%t.stateCount}e.cells=n}},688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGridSampleFunction=t.createGrid=t.FillType=t.BoundaryRule=void 0;const r=n(218),o=n(768);var a,i;!function(e){e[e.Closed=0]="Closed",e[e.Toroidal=1]="Toroidal"}(a=t.BoundaryRule||(t.BoundaryRule={})),function(e){e[e.UniformRandom=0]="UniformRandom",e[e.UniformRandomBinary=1]="UniformRandomBinary"}(i=t.FillType||(t.FillType={}));const l=(e,t)=>{const{height:n,width:r}=e.dimension;for(let o=0;o<n;o++)for(let n=0;n<r;n++){const a=r*o+n;e.cells[a]=t({x:n,y:o})}};t.createGrid=e=>{const{dimension:t,stateCount:n}=e,r={cells:[],dimension:t,stateCount:n};return((e,t)=>{switch(t){case i.UniformRandom:l(e,(()=>o.getRandomInt(0,e.stateCount-1)));break;case i.UniformRandomBinary:l(e,(()=>o.getRandomInt(0,1)))}})(r,e.fillType||i.UniformRandom),r};const s=(e,t,n)=>{const{height:r,width:o}=e.dimension,a=o*n+t;return a>=0&&a<o*r?e.cells[a]:null},d=(e,t,n)=>{const{height:o,width:a}=e.dimension;t=r.mod(t,a);const i=a*(n=r.mod(n,o))+t;return e.cells[i]};t.getGridSampleFunction=e=>{switch(e){case a.Closed:return s;case a.Toroidal:return d}}},127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLifelikeCa=t.namedRules=void 0;const r=n(688);t.namedRules={gameOfLife:{birthPattern:[3],boundaryRule:r.BoundaryRule.Toroidal,name:"Game Of Life",survivalPattern:[2,3]}};const o=(e,t)=>t.find((t=>t===e));t.updateLifelikeCa=(e,t)=>{const{height:n,width:a}=e.dimension,i=r.getGridSampleFunction(t.boundaryRule),l=(e,t,n)=>{const r=i(e,t,n);return null===r?0:r},s=[];for(let r=0;r<n;r++)for(let n=0;n<a;n++){const i=a*r+n,d=e.cells[i];let c=0;c+=l(e,n-1,r-1),c+=l(e,n,r-1),c+=l(e,n+1,r-1),c+=l(e,n-1,r),c+=l(e,n+1,r),c+=l(e,n-1,r+1),c+=l(e,n,r+1),c+=l(e,n+1,r+1);const u=d>0?t.survivalPattern:t.birthPattern;s[i]=o(c,u)?1:0}e.cells=s}},218:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mod=t.lerp=void 0,t.lerp=(e,t,n)=>(1-n)*e+n*t,t.mod=(e,t)=>(e%t+t)%t},768:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomInt=t.getRandomFloat=t.getRandomBoolean=t.getNormalRandomWithoutOutliers=t.getNormalRandom=t.createNormalRandomGenerator=void 0,t.createNormalRandomGenerator=()=>({hasSpare:!1,spare:0}),t.getNormalRandom=(e,t,n)=>{if(e.hasSpare)return e.hasSpare=!1,e.spare*n+t;{let r,o,a;do{r=2*Math.random()-1,o=2*Math.random()-1,a=r*r+o*o}while(a>=1||0==a);return a=Math.sqrt(-2*Math.log(a)/a),e.spare=o*a,e.hasSpare=!0,t+n*r*a}},t.getNormalRandomWithoutOutliers=(e,n,r,o=3)=>{if(e.hasSpare)return e.hasSpare=!1,e.spare*r+n;{let a,i,l;do{a=2*Math.random()-1,i=2*Math.random()-1,l=a*a+i*i}while(l>=1||0==l);l=Math.sqrt(-2*Math.log(l)/l);const s=a*l;return s<-o||s>o?t.getNormalRandomWithoutOutliers(e,n,r):(e.spare=i*l,e.hasSpare=!0,n+r*s)}},t.getRandomBoolean=()=>Math.random()>.5,t.getRandomFloat=(e,t)=>Math.random()*(t-e)+e,t.getRandomInt=(e,t)=>Math.floor(Math.random()*(t-e+1)+e)},948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawGrid=t.updateCanvas=t.clearCanvas=void 0;const r=n(887),o=e=>Math.floor(255*e),a=(e,t,n)=>{const{canvas:r,pixelImageData:a}=e,{data:i}=a,{r:l,g:s,b:d,a:c}=n,u=4*(r.width*t.y+t.x);i[u]=o(l),i[u+1]=o(s),i[u+2]=o(d),i[u+3]=o(c)};t.clearCanvas=e=>{const{canvas:t,renderingContext:n}=e;n.clearRect(0,0,t.width,t.height)},t.updateCanvas=e=>{const{renderingContext:t,pixelImageData:n}=e;t.putImageData(n,0,0)},t.drawGrid=(e,t)=>{const n=r.getTwoStopGradient(r.unpackUByte4(255),r.unpackUByte4(4294967295),t.stateCount),{height:o,width:i}=t.dimension;for(let r=0;r<o;r++)for(let o=0;o<i;o++){const l=i*r+o,s=n[t.cells[l]];a(e,{x:o,y:r},s)}}}},0,[[792,666]]]);